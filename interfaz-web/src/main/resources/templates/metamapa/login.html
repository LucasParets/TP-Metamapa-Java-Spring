<!DOCTYPE html>
<html lang="es" th:replace="~{layout/base :: html}">
<div th:fragment="contenido">
  <div class="login-container">
    <div class="login-box">
      <h1>MetaMapa</h1>
      <p class="subtitle">Sistema de gestión de mapeos colaborativos</p>
      <h2>Acceder a tu cuenta</h2>

      <!-- IMPORTANT: action + CSRF + names correctos -->
      <form class="login-form" th:action="@{/login}" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <div class="login-info">
          <label for="username">Usuario</label>
          <input type="text" id="username" name="username" placeholder="Usuario" required />
        </div>

        <div class="login-info">
          <label for="password">Contraseña</label>
          <input type="password" id="password" name="password" placeholder="Contraseña" required />
        </div>

        <button type="submit" class="btn-login-submit">Iniciar sesión</button>
        <a th:href="@{/registrarse}" class="btn-registrarse-submit">Registrarse</a>
      </form>

      <div th:if="${param.error}" class="error-messages">
        <p>Usuario o contraseña inválidos.</p>
      </div>

    </div>
  </div>
</div>
</html>